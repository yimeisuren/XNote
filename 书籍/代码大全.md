# 三思而后行: 前期准备

## 为什么要做前期准备

进行有效编程的要领之一是：准备工作很重要。在开始做一个大项目之前，应该为这个项目制订计划，这是很有意义的。大的项目需要做更多的计划，而小项目则可以少些。从管理的角度看，做计划意味着确定项目所需要用的时间、人数以及计算机台数。从技术角度讲，做计划意味着弄清楚你想要建造的是什么，以防止浪费钱去建造错误的东西。有时候用户在一开始并不完全确定自己想要的是什么，因此值得花费比理想情况下更多的力气，找出他们真正想要的东西。但这至少比“先做一个错误的东西出来，然后扔掉，并从头来过”的成本要低廉。在开始动手制作这个系统之前，先好好思考打算如何去做，这也非常重要。你总不希望花费很多的时间和金钱，却毫无必要地走进死胡同（尤其当这样做会增加成本的时候）。

建造软件系统跟其他任何花费人力财力的项目是相似的。如果打算建造一座房屋，你需要在开始钉钉子之前准备好手绘草图（表达设计概念）和蓝图(即设计详图，包含所有细节信息)。在浇注混凝土之前必须审核蓝图并获得批准。在软件领域做技术规划也包含同样多的事情。在把圣诞树立起来之前，你不会对它做装饰：在打开烟囱之前，你不会生火：你不会在车子的油箱是空的时候上路去长途旅行：你不会在洗完澡之前就穿戴整齐，也不会在穿袜子之前就穿鞋。在做软件时，你也必须按正确的顺序去做事情。

程序员是软件食物链的最后一环。架构师吃掉需求，设计师吃掉架构，而程序员则消化设计。我们用真实的食物链来比喻软件食物链。在健康的生态环境中，海鸥吃新鲜的鲑鱼。这对海鸥是营养丰富的大餐，因为鲑鱼吃的是新鲜的青鱼，而青鱼吃的是新鲜的水蝽。这是一条健康的食物链。在软件开发中，如果食物链的每一级都有健康的食物，那么最终就会获得由快乐的程序员编写出的健康的代码。在受到污染的环境中，水蝽在核废料中游泳，青鱼被聚氯联二苯(PCB)污染，而吃青鱼的鲑鱼又在泄漏的原油中游荡。海鸥，很不幸，它位于食物链的最后一环，因此它吃下去的不仅仅是不健康的鲑鱼体内的原油，还有青鱼体内的聚氯联二苯和水蝽体内的核废料。在软件开发中，如果需求被污染了，那么它就会污染架构，而架构又会污染构建。这样会导致程序员脾气暴躁、营养失调；开发出的软件具有放射性污染，而且周身都是缺陷。

如果你正为某个高度迭代的项目做计划，那么在开始构建活动之前，你需要针对将要构造的每一片段，先弄清哪些是最关键的需求和架构要素。建造住宅小区的施工人员，在开始建造第一栋房子之前，并不需要知道小区里面每一栋房子的每一个细节。但他会调查施工场所，制定下水道和电线的走向等。如果施工人员准备不充分，那么建造过程很可能会因为“需要在某所已经造好的房子的地下挖一条下水道”而延误。



# 更多信息

web资源: www.cc2e.com.cn

## 关于软件构建的信息Information About Software Construction

《Pragmatic Programmer》(《实用主义程序员》)(Hunt and Thomas200O)着眼于与编码紧密相关的活动，包括<u>测试、调试、断言的用法</u>等等。该书对代码本身并没有深入，但包含了许多关于生成优质代码的原则。

Jon Bentley的《Programming Pearls》<u>以小程序为背景</u>时论了软件设计的艺术和科学。该书由许多短文组成。这些短文写得很好，表现出对有效构建技术的深邃眼光和真挚热情。我几乎每天都能从Bety的短文中有所收获。

Kent Beck (Extreme Programming Explained:Embrace Change)对软件开发提出了<u>以构建为中心</u>的方法。正如3.1节(“前期准备的重要性”)中解释的那样，<u>极限编程</u>的经济性并未被产业研究所证实，但其许多建议都有益于构建过程，不管开发团队采用极限编程还是别的什么方法。

Steve Maguire《Writing Solid Code -Microsoft's Techniquesfor.Developing Bug-Free C Software》是一本较专门的书籍。它<u>注重商用级应用软件的生产实践</u>，大部分基于作者开发Office软件的专业知识。该书的技术是在C语言下用的，基本上不关心面向对象编程方面的问题，但其提及的话题可适用于有关的各种环境。

Brian Kernighan和Rob Pike合著的《The Practice of Programming》则是另一本较专门的书籍。它<u>着重于编程的本质和实践方面</u>，架起了连接计算机科学理论与动手实践的桥梁。该书包括有编程风格讨论、设计、调试和测试，其读者应熟悉C、C++。

尽管已经绝版，很难寻觅，Susan Lammers的《Programmers at Work》仍值得一看。书中有<u>对业界最顶尖的程序员的采访记录</u>。这些采访揭示了他们的个性、工作习惯和编程哲学。受访者有Bill Gates(Microsoft公司创始人)、John Warnock(Adobe公司创始人)、Andy Hertzfeld(Macintosh操作系统的主要开发者)、Butler Lampson(原DEC高级工程师，现为Microsoft效力)、Wayne Ratliff(dBase的发明者)、Dan Bricklin(VisiCalc的发明者)诸多人士。

## 构建之外的话题Topics Beyond Construction

Robert L.Glass (Facts and Fallacies of Software Engineering)介绍传统软件开发的规则与戒律。该书研究透彻，并给出了附带资源的链接。我自己的《Professional Sofware Development》）(《专业软件开发》)探讨了软件开发领域的现状，以及如果还按老模式发展，现在会是什么样子。

Swebok:Guide to the Software Engineering Body of Knowledge(Swebok:软件工程知识体指南)详细分析了软件工程的知识，并深入到软件生成方面的细节。该指南揭示了此领域知识的丰厚积蕴。

Gerald Weinberg The Psychology of Computer Programming)(Weinberg 1998)充满了编程的轶闻趣事。它涉及的面很宽，因为编撰该书的时候，人们把任何关于软件的事都看成是“程序开发”。在《ACM Computing Reviews)》杂志上有对该书的评论，即便现在，对该书的赞许仍不减当年。

如果你找不到《程序开发心理学》，就去找《The Mythical Man-Month》(Brooks1995),或《People Ware)》(DeMarco and Lister1999)。两本书都极力主张编程压倒一切的是人之间的活动，其次才涉及计算机。

最后要推荐的优秀软件开发综述类书籍，《Software Creativity》(Gass1995)。该书如同《人件》对于软件开发团队一样，堪称是软件创新性的突破性书籍。Glss探讨比较了创新与规矩、理论与实践、启发与方法论、过程与结果等许多软件领域的事物两面。我和手下的程序员经过几年的讨论，认为该书的难度在于其中的短文是Glass收集编纂的，而非他所写。对于有些读者，此书好像意犹未尽。尽管如此，我仍要求公司里的每个开发人员都看这本书。该书已经绝版，很难找到，但要是能找到，也不会枉费你的辛劳。